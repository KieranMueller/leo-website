
<br>
<mat-card class="game" *ngFor="let game of games">
    <h3>{{ game.startTimeUTC | date :'short'}}, {{game.venue}}</h3>
    <div class="row">
        <div class="column">
            <div class="favored">
                <br>
                <h2>{{game.homeTeam.name}} </h2>
                <img mat-card-image  src="https://assets.nhle.com/logos/nhl/svg/{{game.homeTeam.abbrev}}_light.svg">
                <p>{{game.homeTeam.abbrev}} </p>
                <h1>{{game.homeTeam.score}} </h1>
                <p>Predicted win probability:</p>
                <h1>40%</h1>
            </div>
        </div>
        <div class="column">
            <div class="not-favored">
                <br>
                <h2>{{game.awayTeam.name}}</h2>
                <img mat-card-image src="https://assets.nhle.com/logos/nhl/svg/{{game.awayTeam.abbrev}}_light.svg">
                <p>{{game.awayTeam.abbrev}}</p>
                <h1>{{game.awayTeam.score}}</h1>
                <p>Predicted win probability:</p>
                <h1>60%</h1>
            </div>
        </div>
    </div>

    <h2 *ngIf="game.clock">{{game.clock.timeRemaining}}</h2>

    <h1 *ngIf="game.period == 1">{{game.period}}st</h1>
    <h1 *ngIf="game.period == 2">{{game.period}}nd</h1>
    <h1 *ngIf="game.period == 3">{{game.period}}rd</h1>
    <h1 *ngIf="game.period == 4">OT</h1>
    <h1 *ngIf="game.period == 5">SO</h1>
    <h1>{{game.gameState}}</h1>
    <button mat-icon-button matSuffix (click)="onClick(game)">
        <mat-icon>forward icon</mat-icon>
    </button>
    <p>Click to show details at the bottom of the page.</p>
</mat-card>
<div>
    <ng-container *ngIf="showGame">
        <h1 class="column">Game Details:</h1>
        <h1 class="column">
            <span style="color: rgb(54, 162, 235);">{{this.game.awayTeam.name}} </span>
            at 
            <span style="color: rgb(255, 99, 132);">{{this.game.homeTeam.name}}</span>
        </h1>
        <h1 class="column">{{this.game.awayTeam.score}} - {{this.game.homeTeam.score}}</h1>
        <h2 class="column">xG: {{this.totals.homexG}} - {{this.totals.awayxg}}</h2>
        <h2 class="column">Shots: {{this.totals.homeShots}} - {{this.totals.awayShots}}</h2>
        <div *ngIf="this.shots" style="display: flex;flex-wrap: no-wrap;overflow-x: auto;">
            <app-rink [shots]="this.shots"></app-rink>
        </div>
        <br>
        <div *ngIf="this.shotsByTime">
            <div>
                <form class="full-width">
                    <mat-form-field class="full-width">
                        <mat-label>Type</mat-label>
                        <mat-select>
                            <mat-option [value]="0">Shots</mat-option>
                            <mat-option [value]="1">xG</mat-option>
                        </mat-select>
                    </mat-form-field>
                </form>
            </div>
            <app-line [xLabels]="this.shotsByTime.times" [homeShots]="this.shotsByTime.homeShots" [awayShots]="this.shotsByTime.awayShots" ></app-line>
        </div>
        <h1 class="column">Scoring</h1>
        <div class="container" fxLayout="row wrap" fxLayoutGap="16px">
            <div fxFlex="25%"  fxLayoutWrap class="scoring" *ngFor="let goal of this.game.goals">
                <mat-card>
                    <h1>{{goal.teamAbbrev}}</h1>
                    <p>{{goal.name}}</p>
                    <h2>{{goal.awayScore}} - {{goal.homeScore}}</h2>
                    <img mat-card-image src="{{goal.mugshot}}">
                    <h3>{{goal.timeInPeriod}} in {{goal.period}}</h3>
                    <br>
                </mat-card>
                <br>
            </div>
        </div>
    </ng-container> 
</div>
